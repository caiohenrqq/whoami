---
import SocialLinks from "./SocialLinks.astro";
---

<div class="space-y-4 text-base/relaxed">
  <p
    class="font-body inline-block max-w-xl bg-highlight text-primary px-1 font-bold select-none text-sm sm:text-base"
  >
    <span class="about-typed-greeting truncate"></span>
    <span class="invisible" aria-hidden="true"></span>
  </p>
  <p>
    I'm Caio Henrique, a brazilian software developer with over two years of
    experience. Currently, <strong>Full Stack Developer</strong> at <a
      href="https://buscasim.com.br/"
      class="transition-colors inline-block px-1 bg-highlight font-bold text-primary hover:bg-accent hover:text-text"
      target="_blank">BuscaSim</a
    >.
  </p>
  <p>
    I really love tech & coding, and I'm always looking for new challenges to
    improve my skills and knowledge.
  </p>
  <p>
    Take a look at my
    <a
      href="/journey"
      class="transition-colors inline-block px-1 bg-highlight font-bold text-primary hover:bg-accent hover:text-text"
    >
      journey of overcoming
    </a>.
  </p>
  <p>
    Currently pursuing a <strong>Bachelor’s degree in Computer Science</strong> at
    <a
      href="https://www.uninter.com/"
      class="transition-colors inline-block px-1 bg-highlight font-bold text-primary hover:bg-accent hover:text-text text-sm sm:text-base"
      target="_blank">Uninter</a
    >.
  </p>
  <div class="flex justify-center mb-5">
    <SocialLinks />
  </div>
  <div class="border"></div>
  <div class="flex flex-col items-center">
    <svg
      viewBox="0 0 24 24"
      class="scroll-arrow h-10 w-10"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
    >
      <path d="M6 9l6 6 6-6"></path>
    </svg>
  </div>
</div>

<script>
  import Typed from "typed.js";

  const greetingsVariations = [
    "- hey, nice to meet you!",
    "- prazer em te conhecer!",
    "- ¡encantado de conocerte!",
    "- ravi de vous rencontrer !",
    "- schön, dich kennenzulernen!",
    "- piacere di conoscerti!",
    "- приятно познакомиться!",
    "- مرحبًا، تشرفتُ بمعرفتك!",
    "- こんにちは、はじめまして！",
    "- 안녕하세요, 만나서 반가워요!",
    "- 很高兴认识你!",
    "- 很高興認識你!",
    "- приятно вас встретить!",
    "- glædeligt at møde dig!",
    "- leuk je te ontmoeten!",
    "- encantado de o conhecer!",
    "- senang bertemu denganmu!",
    "- sangat senang bertemu dengan Anda!",
    "- приятно се запознахме!",
    "- приятно да се запознаем!",
  ];

  let typedInstance: Typed | null = null;

  function initTypedAnimation() {
    if (typedInstance) typedInstance.destroy();

    const aboutTypedGreeting = document.querySelector(".about-typed-greeting");
    if (aboutTypedGreeting) {
      typedInstance = new Typed(".about-typed-greeting", {
        strings: greetingsVariations.sort(() => Math.random() - 0.5),
        typeSpeed: 50,
        backSpeed: 25,
        backDelay: 1500,
        smartBackspace: true,
        loop: true,
        showCursor: true,
        cursorChar: "|",
      });
    }
  }

  initTypedAnimation();

  document.addEventListener("astro:after-swap", initTypedAnimation);
</script>
